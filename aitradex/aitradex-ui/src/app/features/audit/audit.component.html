<section class="page">
  <header>
    <h2>Audit Log</h2>
    <p>Trace system and user actions across the trading platform.</p>
  </header>

  <div class="card">
    <label>
      Actor
      <input [(ngModel)]="actor" placeholder="system or email" />
    </label>
    <label>
      Entity Ref
      <input [(ngModel)]="entityRef" placeholder="order:123" />
    </label>
    <button (click)="load()">Load Logs</button>
    <p class="error" *ngIf="error">{{ error }}</p>
  </div>

  <div class="table" *ngIf="logs.length">
    <div class="row header">
      <span>Actor</span>
      <span>Action</span>
      <span>Entity</span>
      <span>Time</span>
    </div>
    <div class="row" *ngFor="let log of logs">
      <span>{{ log.actor }}</span>
      <span>{{ log.action }}</span>
      <span>{{ log.entityRef }}</span>
      <span>{{ log.occurredAt | date: 'short' }}</span>
    </div>
  </div>
</section>
