<section class="page">
  <header>
    <h2>Orders</h2>
    <p>Create and review trading orders.</p>
  </header>

  <div class="card">
    <form [formGroup]="form" (ngSubmit)="createOrder()">
      <div class="grid">
        <label>
          Account ID
          <input formControlName="accountId" placeholder="UUID" />
        </label>
        <label>
          Symbol
          <input formControlName="symbol" placeholder="AAPL" />
        </label>
        <label>
          Side
          <select formControlName="side">
            <option value="BUY">BUY</option>
            <option value="SELL">SELL</option>
          </select>
        </label>
        <label>
          Type
          <select formControlName="type">
            <option value="MARKET">MARKET</option>
            <option value="LIMIT">LIMIT</option>
            <option value="STOP">STOP</option>
            <option value="STOP_LIMIT">STOP_LIMIT</option>
          </select>
        </label>
        <label>
          Quantity
          <input type="number" step="0.0001" formControlName="quantity" />
        </label>
        <label>
          Limit Price
          <input type="number" step="0.0001" formControlName="limitPrice" />
        </label>
        <label>
          Stop Price
          <input type="number" step="0.0001" formControlName="stopPrice" />
        </label>
        <label>
          Source
          <select formControlName="source">
            <option value="MANUAL">MANUAL</option>
            <option value="AUTOMATION">AUTOMATION</option>
          </select>
        </label>
        <label class="notes">
          Notes
          <input formControlName="notes" placeholder="Optional notes" />
        </label>
      </div>
      <div class="actions">
        <button type="submit">Submit Order</button>
        <button type="button" class="secondary" (click)="loadOrders()">Refresh Orders</button>
      </div>
    </form>
    <p class="error" *ngIf="error">{{ error }}</p>
  </div>

  <div class="table" *ngIf="orders.length">
    <div class="row header">
      <span>Symbol</span>
      <span>Side</span>
      <span>Type</span>
      <span>Status</span>
      <span>Qty</span>
      <span>Created</span>
    </div>
    <div class="row" *ngFor="let order of orders">
      <span>{{ order.symbol }}</span>
      <span>{{ order.side }}</span>
      <span>{{ order.type }}</span>
      <span>{{ order.status }}</span>
      <span>{{ order.quantity }}</span>
      <span>{{ order.createdAt | date: 'short' }}</span>
    </div>
  </div>
</section>
